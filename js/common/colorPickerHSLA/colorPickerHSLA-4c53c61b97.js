$(function(){function t(t,i){var n=document.getElementById("canvas-hue"),a=n.getContext("2d");a.clearRect(0,0,404,404);for(var e=0;e<=400;e+=4)for(var s=0;s<=400;s+=4)a.fillStyle="hsla("+t+","+e/4+"%,"+s/4+"%,"+i+")",a.fillRect(e,s,4,4)}function i(t,i){var n=document.getElementById("canvas-saturation"),a=n.getContext("2d");a.clearRect(0,0,720,404);for(var e=0;e<720;e+=2)for(var s=0;s<=400;s+=4)a.fillStyle="hsla("+e/2+","+t+"%,"+s/4+"%,"+i+")",a.fillRect(e,s,2,4)}function n(t,i){var n=document.getElementById("canvas-lightness"),a=n.getContext("2d");a.clearRect(0,0,720,404);for(var e=0;e<720;e+=2)for(var s=0;s<=400;s+=4)a.fillStyle="hsla("+e/2+","+s/4+"%,"+t+"%,"+i+")",a.fillRect(e,s,2,4)}t(0,1),$("#header").find(".glyphicon-plus").click(function(){$(this).toggleClass("bars-rotate"),$(".navbar").toggleClass("navbar-width"),$(".div-canvas-hue,.div-canvas-saturation,.div-canvas-lightness").toggleClass("marginRight")}),$(".tab").on("click","div",function(){if($(".tab div").removeClass("active"),$(this).addClass("active"),"hue"===$(this).data("value")){$(".div-canvas-saturation,.div-canvas-lightness,#saturation,#lightness").hide(),$(".div-canvas-hue,#hue").show();var a=$("#hue");t(a.find(".slider-hue .drag-button b").text(),a.find(".slider-alpha .drag-button b").text())}else if("saturation"===$(this).data("value")){$(".div-canvas-hue,.div-canvas-lightness,#hue,#lightness").hide(),$(".div-canvas-saturation,#saturation").show();var e=$("#saturation");i(e.find(".slider-saturation .drag-button b").text(),e.find(".slider-alpha .drag-button b").text())}else if("lightness"===$(this).data("value")){$(".div-canvas-hue,.div-canvas-saturation,#hue,#saturation").hide(),$(".div-canvas-lightness,#lightness").show();var s=$("#lightness");n(s.find(".slider-lightness .drag-button b").text(),s.find(".slider-alpha .drag-button b").text())}}),$(".drag-button").draggable({axis:"y",containment:"parent"}),$("#hue").find(".slider-hue .drag-button").on("drag",function(){var i=$(this).position(),n=i.top;$(this).find("b").text(359-n),t($(this).find("b").text(),$("#hue").find(".slider-alpha .drag-button b").text())}),$("#saturation").find(".slider-saturation .drag-button").on("drag",function(){var t=$(this).position(),n=t.top;$(this).find("b").text(Math.floor((300-n)/3)),i($(this).find("b").text(),$("#saturation").find(".slider-alpha .drag-button b").text())}),$("#lightness").find(".slider-lightness .drag-button").on("drag",function(){var t=$(this).position(),i=t.top;$(this).find("b").text(Math.floor((300-i)/3)),n($(this).find("b").text(),$("#lightness").find(".slider-alpha .drag-button b").text())}),$(".slider-alpha .drag-button").on("drag",function(){var a=$(this).position(),e=a.top;$(this).find("b").text(Math.floor((300-e)/3)/100);var s=$(".tab .active").data("value");"hue"==s?t($("#hue").find(".slider-hue .drag-button b").text(),$(this).find("b").text()):"saturation"==s?i($("#saturation").find(".slider-saturation .drag-button b").text(),$(this).find("b").text()):"lightness"==s&&n($("#lightness").find(".slider-lightness .drag-button b").text(),$(this).find("b").text())}),$("#hue").find(".slider-hue .glyphicon-plus").on("click",function(){var i=$("#hue"),n=i.find(".slider-hue .drag-button"),a=n.position().top;a>0?n.css({top:a-1}).find("b").text(360-a):a<=0&&n.css({top:0}).find("b").text(359),t(n.find("b").text(),i.find(".slider-alpha .drag-button b").text())}),$("#hue").find(".slider-hue .glyphicon-minus").on("click",function(){var i=$("#hue"),n=i.find(".slider-hue .drag-button"),a=n.position().top;a<359?n.css({top:a+1}).find("b").text(358-a):a>=359&&n.css({top:359}).find("b").text(0),t(n.find("b").text(),i.find(".slider-alpha .drag-button b").text())}),$("#saturation").find(".slider-saturation .glyphicon-plus").on("click",function(){var t=$("#saturation"),n=t.find(".slider-saturation .drag-button"),a=n.position().top,e=3*parseInt((a-3)/3);e>0?n.css({top:e}).find("b").text(100-e/3):e<=0&&n.css({top:0}).find("b").text(100),i(n.find("b").text(),t.find(".slider-alpha .drag-button b").text())}),$("#saturation").find(".slider-saturation .glyphicon-minus").on("click",function(){var t=$("#saturation"),n=t.find(".slider-saturation .drag-button"),a=n.position().top,e=3*parseInt((a+3)/3);e<300?n.css({top:e}).find("b").text(100-e/3):e>=300&&n.css({top:300}).find("b").text(0),i(n.find("b").text(),t.find(".slider-alpha .drag-button b").text())}),$("#lightness").find(".slider-lightness .glyphicon-plus").on("click",function(){var t=$("#lightness"),i=t.find(".slider-lightness .drag-button"),a=i.position().top,e=3*parseInt((a-3)/3);e>0?i.css({top:e}).find("b").text(100-e/3):e<=0&&i.css({top:0}).find("b").text(100),n(i.find("b").text(),t.find(".slider-alpha .drag-button b").text())}),$("#lightness").find(".slider-lightness .glyphicon-minus").on("click",function(){var t=$("#lightness"),i=t.find(".slider-lightness .drag-button"),a=i.position().top,e=3*parseInt((a+3)/3);console.log(e),e<300?i.css({top:e}).find("b").text(100-e/3):e>=300&&i.css({top:300}).find("b").text(0),n(i.find("b").text(),t.find(".slider-alpha .drag-button b").text())}),$(".slider-alpha .glyphicon-plus").on("click",function(){var a=$(".tab .active").data("value");if("hue"==a){var e=$("#hue"),s=e.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o-3)/3);d>0?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d<=0&&s.css({top:0}).find("b").text(1),t(e.find(".slider-hue .drag-button b").text(),s.find("b").text())}else if("saturation"==a){var l=$("#saturation"),s=l.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o-3)/3);d>0?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d<=0&&s.css({top:0}).find("b").text(1),i(l.find(".slider-saturation .drag-button b").text(),s.find("b").text())}else if("lightness"==a){var r=$("#lightness"),s=r.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o-3)/3);d>0?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d<=0&&s.css({top:0}).find("b").text(1),n(r.find(".slider-lightness .drag-button b").text(),s.find("b").text())}}),$(".slider-alpha .glyphicon-minus").on("click",function(){var a=$(".tab .active").data("value");if("hue"==a){var e=$("#hue"),s=e.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o+3)/3);d<300?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d>=300&&s.css({top:300}).find("b").text(0),t(e.find(".slider-hue .drag-button b").text(),s.find("b").text())}else if("saturation"==a){var l=$("#saturation"),s=l.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o+3)/3);d<300?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d>=300&&s.css({top:300}).find("b").text(0),i(l.find(".slider-saturation .drag-button b").text(),s.find("b").text())}else if("lightness"==a){var r=$("#lightness"),s=r.find(".slider-alpha .drag-button"),o=s.position().top,d=3*parseInt((o+3)/3);d<300?s.css({top:d}).find("b").text((1-d/300).toFixed(2)):d>=300&&s.css({top:300}).find("b").text(0),n(r.find(".slider-lightness .drag-button b").text(),s.find("b").text())}}),$("#canvas-hue,#canvas-saturation,#canvas-lightness").mousemove(function(t){$("#div-color-magnifier").hide();var i,n,a,e,s,o,d,l,r=$(".tab .active").data("value");if("hue"==r){var h=$("#hue");i=document.getElementById("canvas-hue"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),s=h.find(".slider-hue .drag-button b").text(),l=h.find(".slider-alpha .drag-button b").text(),$("#div-color-magnifier").css({left:t.clientX,top:t.clientY}).find("#color-magnifier").css("backgroundColor","hsla("+s+","+Math.floor(a/4)+"%,"+Math.floor(e/4)+"%,"+l+")").parent().show()}else if("saturation"==r){var u=$("#saturation");i=document.getElementById("canvas-saturation"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),o=u.find(".slider-saturation .drag-button b").text(),l=u.find(".slider-alpha .drag-button b").text(),$("#div-color-magnifier").css({left:t.clientX,top:t.clientY}).find("#color-magnifier").css("backgroundColor","hsla("+Math.floor(a/2)+","+o+"%,"+Math.floor(e/4)+"%,"+l+")").parent().show()}else if("lightness"==r){var f=$("#lightness");i=document.getElementById("canvas-lightness"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),d=f.find(".slider-lightness .drag-button b").text(),l=f.find(".slider-alpha .drag-button b").text(),$("#div-color-magnifier").css({left:t.clientX,top:t.clientY}).find("#color-magnifier").css("backgroundColor","hsla("+Math.floor(a/2)+","+Math.floor(e/4)+"%,"+d+"%,"+l+")").parent().show()}}),$("#canvas-hue,#canvas-saturation,#canvas-lightness").click(function(t){var i,n,a,e,s,o,d,l,r=$(".tab .active").data("value");if("hue"==r){var h=$("#hue");i=document.getElementById("canvas-hue"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),s=h.find(".slider-hue .drag-button b").text(),l=h.find(".slider-alpha .drag-button b").text(),$("body").css("backgroundColor","hsla("+s+","+Math.floor(a/4)+"%,"+Math.floor(e/4)+"%,"+l+")"),$("#color-value").text("hsla("+s+","+Math.floor(a/4)+"%,"+Math.floor(e/4)+"%,"+l+")"),h.find(".gradient-alpha").css("background","linear-gradient(hsla("+s+",100%,50%,1),hsla("+s+",100%,50%,0))")}else if("saturation"==r){var u=$("#saturation");i=document.getElementById("canvas-saturation"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),o=u.find(".slider-saturation .drag-button b").text(),l=u.find(".slider-alpha .drag-button b").text(),$("body").css("backgroundColor","hsla("+Math.floor(a/2)+","+o+"%,"+Math.floor(e/4)+"%,"+l+")"),$("#color-value").text("hsla("+Math.floor(a/2)+","+o+"%,"+Math.floor(e/4)+"%,"+l+")"),u.find(".gradient-saturation").css("background","linear-gradient(hsla("+Math.floor(a/2)+",100%,50%,1),hsla("+Math.floor(a/2)+",0%,50%,1))"),u.find(".gradient-alpha").css("background","linear-gradient(hsla("+Math.floor(a/2)+",100%,50%,1),hsla("+Math.floor(a/2)+",100%,50%,0))")}else if("lightness"==r){var f=$("#lightness");i=document.getElementById("canvas-lightness"),n=i.getBoundingClientRect(),a=t.clientX-n.left*(i.width/n.width),e=t.clientY-n.top*(i.height/n.height),d=f.find(".slider-lightness .drag-button b").text(),l=f.find(".slider-alpha .drag-button b").text(),$("body").css("backgroundColor","hsla("+Math.floor(a/2)+","+Math.floor(e/4)+"%,"+d+"%,"+l+")"),$("#color-value").text("hsla("+Math.floor(a/2)+","+Math.floor(e/4)+"%,"+d+"%,"+l+")"),f.find(".gradient-alpha").css("background","linear-gradient(hsla("+Math.floor(a/2)+",100%,50%,1),hsla("+Math.floor(a/2)+",100%,50%,0))")}}),$("#canvas-hue,#canvas-saturation,#canvas-lightness").mouseleave(function(t){var i,n=$(".tab .active").data("value");"hue"==n?i=document.getElementById("canvas-hue"):"saturation"==n?i=document.getElementById("canvas-saturation"):"lightness"==n&&(i=document.getElementById("canvas-lightness"));var a=i.getBoundingClientRect(),e=t.clientX-a.left*(i.width/a.width),s=t.clientY-a.top*(i.height/a.height);e>=0&&e<i.width&&s>=0&&s<i.height||$("#div-color-magnifier").hide()})});